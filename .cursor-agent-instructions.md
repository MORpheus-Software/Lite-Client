# AI Agent Instructions for Morpheus Project

## Project Context
- **Project Name**: Morpheus (Lite-Client-1)
- **Package Manager**: Yarn (preferred over npm)
- **Current Version**: 0.6.0
- **Repository**: MorpheusAIs/Node
- **Build Tool**: Electron Forge
- **Branch**: MOR-API-Toggle (current)

## Daily Build Strategy Implementation Plan

### Package.json Scripts to Add:
```json
{
  "scripts": {
    // Daily experimental builds
    "publish-daily": "yarn version --prerelease --preid=daily && git push --follow-tags",
    "publish-alpha": "yarn version --prerelease --preid=alpha && git push --follow-tags", 
    "publish-beta": "yarn version --prerelease --preid=beta && git push --follow-tags",
    
    // Complete build workflows
    "daily-build": "yarn version --prerelease --preid=daily && yarn make && git push --follow-tags",
    "alpha-build": "yarn version --prerelease --preid=alpha && yarn make && git push --follow-tags",
    "beta-build": "yarn version --prerelease --preid=beta && yarn make && git push --follow-tags",
    
    // Quick commands
    "daily": "yarn publish-daily",
    "daily-full": "cross-env PRERELEASE=true yarn daily-build",
    "alpha-full": "cross-env PRERELEASE=true yarn alpha-build",
    "release-stable": "yarn version --patch && yarn make && git push --follow-tags"
  }
}
```

### Version Strategy:
- **Current**: `0.6.0`
- **Daily builds**: `0.6.1-daily.0`, `0.6.1-daily.1`, `0.6.1-daily.2...`
- **Alpha builds**: `0.6.1-alpha.0`, `0.6.1-alpha.1...`
- **Beta builds**: `0.6.1-beta.0`, `0.6.1-beta.1...`
- **Next stable**: `0.6.1`, `0.6.2...`

### GitHub Release Configuration:
- **Current Setup**: `forge.config.ts` → `PublisherGithub` → `draft: true`
- **Repository**: MorpheusAIs/Node
- **All builds create draft releases** (current config)
- **Pre-release tags get marked automatically** by version naming

### File Locations:
- **Main config**: `forge.config.ts`
- **Scripts**: `package.json` (lines 7-18 currently)
- **Version**: `package.json` line 4

## Agent Command Phrases

### For Daily Builds:
- **"Create a daily experimental build"** → Run daily-full workflow
- **"Generate a daily build"** → Version + build + push + GitHub draft
- **"Make an experimental build"** → Same as daily build
- **"Run daily build process"** → Complete workflow

### For Alpha/Beta Builds:
- **"Create an alpha build"** → Run alpha-full workflow  
- **"Generate beta build"** → Run beta-full workflow
- **"Make alpha experimental build"** → Alpha version + build + push

### For Version Management:
- **"Just bump daily version"** → Run daily (version only, no build)
- **"Bump to next daily"** → Version increment only
- **"Create stable release"** → Run release-stable

### For Implementation:
- **"Implement the daily build scripts"** → Add scripts to package.json
- **"Set up daily build workflow"** → Complete implementation
- **"Add experimental build commands"** → Script implementation

## User Preferences (Key Memories):
- **Approval First**: Ask for user approval before making changes [[memory:5111666]]
- **Simple Alerts**: Use alert() instead of custom React modals [[memory:5104653]]
- **Yarn Preferred**: Always use Yarn over npm [[memory:5081496]]
- **Animated Icons**: Prefer animated icons over verbose messages [[memory:4981439]]

## Common Workflows:

### 1. Daily Development Build:
```bash
yarn daily-full
# Result: 0.6.1-daily.0 → build → push → GitHub draft release
```

### 2. Alpha Testing Build:
```bash
yarn alpha-full  
# Result: 0.6.1-alpha.0 → build → push → GitHub draft release
```

### 3. Quick Version Bump (no build):
```bash
yarn daily
# Result: 0.6.1-daily.0 → push tag (no build)
```

### 4. Stable Release:
```bash
yarn release-stable
# Result: 0.6.1 → build → push → GitHub release
```

## Implementation Status:
- ❌ **Scripts**: Need to add daily build scripts to package.json
- ❌ **Cross-env**: May need to add cross-env dependency
- ✅ **GitHub Config**: Already configured with draft releases
- ❌ **Release Templates**: Optional enhancement

## Quick Reference:
- **Current scripts location**: package.json lines 13-15 (existing publish commands)
- **Add new scripts after**: line 15 (after publish-github-patch)
- **Current forge config**: Lines 95-101 in forge.config.ts
- **Repository target**: MorpheusAIs/Node (not Lite-Client-1)

## Expected Agent Behavior:
1. **Read this file first** in new chat sessions
2. **Check for personal config** - also read `.cursor-agent-personal.md` if present
3. **Reference the plan** when asked about builds
4. **Ask for approval** before implementing changes
5. **Use Yarn commands** consistently
6. **Follow versioning strategy** outlined above

## Technical Implementation Details:

### Required Dependencies:
- `cross-env` (may need to add to devDependencies)

### Current Package.json Structure:
- Line 4: version "0.6.0"
- Lines 7-18: existing scripts section
- Line 13: "publish-github-minor": "yarn version --minor && git push --follow-tags"
- Line 14: "publish-github-major": "yarn version --major && git push --follow-tags"  
- Line 15: "publish-github-patch": "yarn version --patch && git push --follow-tags"

### Integration Points:
- Add daily build scripts after line 15
- Maintain consistency with existing publish-github-* pattern
- Ensure all scripts use yarn (not npm)
- Follow existing &&-chained command pattern

## Configuration Files:

### `.cursor-agent-instructions.md` (This File)
- **Purpose**: Team-wide standards and shared workflows
- **Git Status**: Committed to repository for team sharing
- **Contains**: Build strategies, common commands, project structure
- **Updates**: Should be updated when team processes change

### `.cursor-agent-personal.md` (Personal Config)
- **Purpose**: Individual developer preferences and private settings
- **Git Status**: Gitignored for privacy
- **Contains**: Personal workflow preferences, environment-specific settings
- **Security**: Never include sensitive data (API keys, passwords, etc.)

---
*This file is committed to the repository for team consistency. Personal preferences go in `.cursor-agent-personal.md` (gitignored).*